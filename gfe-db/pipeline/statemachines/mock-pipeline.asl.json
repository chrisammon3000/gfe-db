{
    "StartAt": "UpdateExecutionStateInProgress",
    "States": {
        "UpdateExecutionStateInProgress": {
            "Type": "Task",
            "Resource": "arn:aws:states:::dynamodb:updateItem",
            "Parameters": {
                "TableName": "${ExecutionStateTable}",
                "Key": {
                    "commit__sha": {
                        "S.$": "$.commit_sha"
                    },
                    "execution__version": {
                        "N.$": "States.Format('{}', $.version)"
                    }
                },
                "UpdateExpression": "SET execution__status = :status",
                "ExpressionAttributeValues": {
                    ":status": {
                        "S": "IN_PROGRESS"
                    }
                }
            },
            "Next": "End"
        },
        "End": {
            "Type": "Succeed"
        }
    }
}
